import{d as g,r as n,t as i,v as u,x as e,M as v,N as x,L as r,O as b,y as h,P as y,o as S,Q as k,R as N,S as _,T as L,U as T,_ as C}from"./DtFRZzgB.js";const E={class:"bg-gray-900 bg-opacity-50 fixed inset-0 z-40"},M={tabindex:"-1",class:"fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full justify-center items-center flex"},R={class:"relative max-h-full"},$={class:"relative bg-white rounded-lg shadow"},q=e("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"New Gamer")],-1),B={class:"p-4 md:p-5"},U={class:"grid gap-4 mb-4 grid-cols-2"},V={class:"col-span-2"},j=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900"},"Name",-1),D={key:0,class:"text-sm text-red-600"},H=g({__name:"Login",emits:["submit"],setup(w,{emit:c}){const m=c,s=n(""),a=n(!1),o=n(""),d=()=>{if(!s.value){o.value="Type Name",a.value=!0;return}const t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){if(!JSON.parse(t.response)){m("submit",s.value);return}o.value="Change Name",a.value=!0}},t.open("post","http://localhost:3010/login",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send(`name=${s.value}`)};return(t,l)=>(i(),u("div",E,[e("div",M,[e("div",R,[e("div",$,[q,e("div",B,[e("div",U,[e("div",V,[j,v(e("input",{"onUpdate:modelValue":l[0]||(l[0]=p=>b(s)?s.value=p:null),type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Name",required:""},null,512),[[x,r(s)]]),r(a)?(i(),u("p",D,h(r(o)),1)):y("",!0)])]),e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:d}," Start ")])])])])])]))}}),O={class:"main-content"},z={class:"ul-menu"},F=g({__name:"default",setup(w){const c=n(!1),m=t=>{console.log(t,444),c.value=!1},s=n(""),a=n([]),o=n(null);S(()=>{o.value=new WebSocket("ws://gev566.github.io"),console.log(o.value,777),o.value.onmessage=t=>{console.log(555),a.value.push(t.data)},o.value.onopen=t=>{console.log(t,666)}});const d=()=>{s.value.trim()!==""&&(o.value.send(s.value),s.value="")};return(t,l)=>{const p=H;return i(),u(_,null,[e("div",O,[k(t.$slots,"default",{},void 0,!0),e("div",null,[v(e("input",{"onUpdate:modelValue":l[0]||(l[0]=f=>b(s)?s.value=f:null),class:"input",onKeyup:N(d,["enter"])},null,544),[[x,r(s)]]),e("button",{onClick:d},"Send"),e("ul",z,[(i(!0),u(_,null,L(r(a),f=>(i(),u("li",null,h(f),1))),256))])])]),r(c)?(i(),T(p,{key:0,onSubmit:m})):y("",!0)],64)}}}),X=C(F,[["__scopeId","data-v-88203900"]]);export{X as default};
